$schema: http://azureml/sdk-2-0/CommandComponent.json
name: train_boston_pytorch_for_rai
display_name: Train pytorch model on Boston Dataset for RAI
version: VERSION_REPLACEMENT_STRING
type: command
inputs:
  training_data:
    type: path
  target_column_name:
    type: string
  features:
    type: string
  model_base_name:
    type: string
  model_name_suffix: # Set negative to use epoch_secs
    type: integer
    default: -1
outputs:
  model_info_output_path:
    type: path
code: ./src_boston_pytorch/

environment: azureml://registries/azureml/environments/acpt-pytorch-1.13-cuda11.7/versions/12
command: >-
  python train.py
  --training_data ${{inputs.training_data}}
  --target_column_name ${{inputs.target_column_name}}
  --features '${{inputs.features}}'
  --model_base_name ${{inputs.model_base_name}}
  --model_name_suffix ${{inputs.model_name_suffix}}
  --model_info_output_path ${{outputs.model_info_output_path}}
